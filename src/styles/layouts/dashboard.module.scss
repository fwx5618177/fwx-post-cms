// 变量
$primary-color: #1890ff;
$primary-hover: #40a9ff;
$text-color: #333;
$text-secondary: #666;
$border-color: #e8e8e8;
$background-color: #f5f5f5;
$menu-bg: #001529;
$menu-hover: #1890ff;
$menu-active: #1890ff;
$menu-text: #fff;
$menu-text-secondary: rgba(255, 255, 255, 0.65);
$header-height: 64px;
$sider-width: 220px;
$sider-collapsed-width: 80px;
$transition-duration: 0.3s;

// 混合器
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-start {
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin transition {
    transition: all $transition-duration ease;
}

// 基础样式
.dashboardLayout {
    display: flex;
    min-height: 100vh;
    background-color: $background-color;
}

// 侧边栏
.sider {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: $sider-width;
    background: $menu-bg;
    @include transition;
    z-index: 1000;
    display: flex;
    flex-direction: column;

    &.collapsed {
        width: $sider-collapsed-width;

        .logo h1 {
            font-size: 1.2rem;
        }

        .menuButton span {
            display: none;
        }

        .subMenu {
            display: none;
        }
    }

    &.pinned {
        width: $sider-collapsed-width;

        &:hover {
            width: $sider-width;

            .logo h1 {
                font-size: 1.5rem;
            }

            .menuButton span {
                display: inline;
            }

            .subMenu {
                display: block;
            }
        }

        .menuButton {
            span {
                display: none;
            }
        }

        .subMenu {
            display: none;
        }
    }
}

// Logo
.logo {
    height: $header-height;
    padding: 0 24px;
    @include flex-start;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);

    h1 {
        color: $menu-text;
        font-size: 1.5rem;
        margin: 0;
        @include transition;
    }
}

// 菜单
.menu {
    flex: 1;
    overflow-y: auto;
    padding: 16px 0;

    &::-webkit-scrollbar {
        width: 6px;
    }

    &::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
    }
}

.menuItem {
    margin-bottom: 4px;
}

.menuButton {
    width: 100%;
    padding: 12px 24px;
    background: none;
    border: none;
    color: $menu-text-secondary;
    @include flex-start;
    gap: 12px;
    cursor: pointer;
    @include transition;

    &:hover {
        color: $menu-text;
        background: rgba(255, 255, 255, 0.1);
    }

    &.active {
        color: $menu-text;
        background: $menu-active;
    }

    svg {
        font-size: 1.2rem;
    }

    span {
        font-size: 0.9rem;
    }
}

.subMenu {
    padding-left: 24px;
    margin-top: 4px;
}

.subMenuItem {
    width: 100%;
    padding: 8px 16px;
    background: none;
    border: none;
    color: $menu-text-secondary;
    @include flex-start;
    gap: 12px;
    text-align: left;
    cursor: pointer;
    @include transition;

    &:hover {
        color: $menu-text;
        background: rgba(255, 255, 255, 0.1);
    }

    &.active {
        color: $menu-text;
        background: $menu-active;
    }

    svg {
        font-size: 1.1rem;
    }

    span {
        font-size: 0.9rem;
    }
}

// 菜单控制按钮
.menuControls {
    padding: 16px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    @include flex-between;
}

.controlButton {
    width: 32px;
    height: 32px;
    border: none;
    background: none;
    color: $menu-text-secondary;
    @include flex-center;
    cursor: pointer;
    border-radius: 4px;
    @include transition;

    &:hover {
        color: $menu-text;
        background: rgba(255, 255, 255, 0.1);
    }

    &.active {
        color: $menu-text;
        background: $menu-active;
    }

    svg {
        font-size: 1.2rem;
    }
}

// 主内容区
.main {
    flex: 1;
    margin-left: $sider-width;
    @include transition;

    .sider.collapsed + & {
        margin-left: $sider-collapsed-width;
    }

    .sider.pinned + & {
        margin-left: $sider-collapsed-width;
    }
}

// 头部
.header {
    height: $header-height;
    padding: 0 24px;
    background: #fff;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    @include flex-between;
}

.trigger {
    padding: 0 12px;
    font-size: 18px;
    cursor: pointer;
    @include transition;
    background: none;
    border: none;
    color: $text-secondary;

    &:hover {
        color: $primary-color;
    }
}

.headerRight {
    @include flex-start;
    gap: 16px;
}

.logoutButton {
    padding: 8px 16px;
    background: none;
    border: none;
    color: $text-secondary;
    @include flex-start;
    gap: 8px;
    cursor: pointer;
    border-radius: 4px;
    @include transition;

    &:hover {
        color: $primary-color;
        background: rgba(24, 144, 255, 0.1);
    }

    svg {
        font-size: 1.2rem;
    }
}

// 内容区
.content {
    padding: 24px;
    min-height: calc(100vh - $header-height);
}

// 响应式设计
@media (max-width: 768px) {
    .sider {
        transform: translateX(-100%);

        &.collapsed {
            transform: translateX(0);
        }
    }

    .main {
        margin-left: 0;
    }
}
